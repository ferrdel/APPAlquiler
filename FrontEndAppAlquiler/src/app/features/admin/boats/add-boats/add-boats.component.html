<div class="container my-3">

    <!-- spinner-->
    <shared-loading-spinner *ngIf="isLoading;else showForm"></shared-loading-spinner>

    <ng-template #showForm>
        <h2>Boats</h2>
        <hr>
        
        <form class="mt-3 col-md-6" [formGroup]="miFormulario" (ngSubmit)="onSubmit()">                
            <!--ID-->
            <div class="mb-3" hidden>
                <label for="idVehiculo" class="form-label">Id</label>
                <input type="text" class="form-control" id="idVehiculo" formControlName="id">        
                <span *ngIf="hasErrorsAndTouched('id')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('id')}}
                </span>
            </div>
            
            <!--DESCRIPTION-->
            <div class="mb-3">
                <label for="descripcion" class="form-label">Description</label>
                <textarea class="form-control" name="descripcion" id="descripcion" formControlName="description"></textarea>        
                <span *ngIf="hasErrorsAndTouched('description')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('description')}}
                </span>
            </div>

            <!--IMAGE-->
            <div class="mb-3">
                <label for="image" class="form-label">Image</label>
                <input type="text" class="form-control" name="image" id="image" formControlName="image">
                <span *ngIf="hasErrorsAndTouched('image')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('image')}}
                </span>
            </div>
        
            <!--STATE-->    
            <div class="mb-3">
                <label for="state" class="form-label">Status</label>        
                <select class="form-select" aria-label="Default select example" formControlName="state" id="state">            
                    <option value="">-- Seleccione Estado --</option>
                    <option *ngFor="let estado of estados"  [value]="estado[0]">{{estado[1]}}</option>            
                </select>
                <span *ngIf="hasErrorsAndTouched('state')" class="form-text text-danger">
                    <!--mensaje de error-->
                    {{getFieldError('state')}}
                </span>
            </div>   
                                
            <!--BRAND-->
            <div class="mb-3">
                <label for="marca" class="form-label">Brand</label>        
                <select class="form-select" aria-label="Default select example" formControlName="brandId" id="marca" (change)="onOptionChange()">            
                    <option value="">-- Seleccione Marca --</option>
                    <option *ngFor="let marca of marcas"  value="{{marca.id}}">{{marca.name}}</option>            
                </select>
                <span *ngIf="hasErrorsAndTouched('brandId')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('brandId')}}
                </span>
            </div>

            <!--MODEL-->
            <div class="mb-3" *ngIf="showModels">
                <label for="modelo" class="form-label">Model</label>        
                <select class="form-select" aria-label="Default select example" formControlName="modelId" id="modelo">            
                    <option value="">-- Seleccione Modelo --</option>
                    <option *ngFor="let modelo of modelos"  value="{{modelo.id}}">{{modelo.name}}</option>            
                </select>
                <span *ngIf="hasErrorsAndTouched('modelId')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('modelId')}}
                </span>
            </div>
            
            <!--Dimension-->
            <div class="mb-3">
                <label for="dimension" class="form-label">Dimension</label>
                <input type="text" class="form-control" id="dimension" min="1" formControlName="dimension">                     
                <span *ngIf="hasErrorsAndTouched('dimension')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('dimension')}}
                </span>
            </div>
            
            <!--Motor caracteristicas-->
            <div class="mb-3">
                <label for="engine" class="form-label">Engine Motor</label>
                <input type="text" class="form-control" id="engine" min="1" formControlName="engine">                     
                <span *ngIf="hasErrorsAndTouched('engine')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('engine')}}
                </span>
            </div>

            <!--Materia bote - contrucccion-->
            <div class="mb-3">
                <label for="material" class="form-label">Material Boat</label>
                <input type="text" class="form-control" id="material" min="1" formControlName="material">                     
                <span *ngIf="hasErrorsAndTouched('material')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('material')}}
                </span>
            </div>

            <!--Estabilidad-->
            <div class="mb-3">
                <label for="stability" class="form-label">Stability</label>
                <input type="text" class="form-control" id="stability" min="1" formControlName="stability">                     
                <span *ngIf="hasErrorsAndTouched('stability')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('stability')}}
                </span>
            </div>

            <!--Navegation-->
            <div class="mb-3">
                <label for="navigation" class="form-label">Navegation</label>
                <input type="text" class="form-control" id="navigation" min="1" formControlName="navigation">                     
                <span *ngIf="hasErrorsAndTouched('navigation')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('navigation')}}
                </span>
            </div>

            <!--comodidades del bote-->
            <div class="mb-3">
                <label for="facilities" class="form-label">Facilities</label>
                <input type="text" class="form-control" id="facilities" min="1" formControlName="facilities">                     
                <span *ngIf="hasErrorsAndTouched('facilities')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('facilities')}}
                </span>
            </div>

            <!--Sistema de sonido-->
            <div class="mb-3">
                <label for="sound" class="form-label">Sound</label>
                <input type="text" class="form-control" id="sound" min="1" formControlName="sound">                     
                <span *ngIf="hasErrorsAndTouched('sound')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('sound')}}
                </span>
            </div>

            <!--Accesorios-->
            <div class="mb-3">
                <label for="accessories" class="form-label">Accessories</label>
                <input type="text" class="form-control" id="accessories" min="1" formControlName="accessories">                     
                <span *ngIf="hasErrorsAndTouched('accessories')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('accessories')}}
                </span>
            </div>

            <!--PROPULSION-->
            <div class="mb-3">
                <label for="propulsion" class="form-label">Propulsion</label>
                <input type="text" class="form-control" id="propulsion" min="1" formControlName="propulsion">                     
                <span *ngIf="hasErrorsAndTouched('propulsion')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('propulsion')}}
                </span>
            </div>
                                                    
            <!--PRICE-->
            <div class="mb-3">
                <label for="price" class="form-label">Price</label>
                <input type="number" class="form-control" id="price" min="1" formControlName="price">                     
                <span *ngIf="hasErrorsAndTouched('price')" class="form-text text-danger">
                    <!-- mensaje de error -->
                    {{getFieldError('price')}}
                </span>
            </div>
            
            <button type="submit" class="btn btn-primary mb-3">Submit</button>

            <button type="button" class="btn btn-secondary ms-3 mb-3" [routerLink]="['/']">Cancel</button>
        </form>
    </ng-template>
    
</div>